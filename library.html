<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Add / Edit Games</title>
  <link rel="stylesheet" href="assets/css/style.css" />

  <style>
    .topbar {
      background: #000;
      color: #fff;
      padding: 18px 35px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #222;
    }
    .topbar h1 {
      color: #e50914;
      font-size: 26px;
    }
    .topbar a {
      color: #ddd;
      margin-right: 20px;
      text-decoration: none;
      font-size: 15px;
    }
    .topbar a:hover {
      color: #fff;
    }
    #logoutBtn {
      background: #e50914;
      border: none;
      padding: 8px 18px;
      border-radius: 6px;
      color: #fff;
      font-weight: bold;
      cursor: pointer;
    }

    .stats-container {
      display: flex;
      justify-content: space-between;
      gap: 20px;
      margin-top: 25px;
    }
    .stat-card {
      flex: 1;
      background: #1f1f1f;
      padding: 25px;
      border-radius: 10px;
      border-left: 4px solid #e50914;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
    }
    .stat-card h3 {
      margin: 0;
      color: #e50914;
    }
    .stat-number {
      margin-top: 12px;
      font-size: 2.4rem;
      font-weight: bold;
      color: #fff;
    }

    .form-card {
      background: #1a1a1a;
      padding: 25px;
      margin-top: 35px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
    }
    .form-card h2 {
      color: #fff;
      margin-bottom: 15px;
    }
    .form-card input,
    .form-card select,
    .form-card textarea {
      width: 100%;
      padding: 12px;
      background: #333;
      border: 1px solid #444;
      border-radius: 6px;
      color: #fff;
      font-size: 16px;
      margin-bottom: 12px;
    }
    .form-card textarea {
      height: 100px;
      resize: vertical;
    }
    .form-card button {
      padding: 12px;
      border-radius: 6px;
      border: none;
      font-size: 16px;
      cursor: pointer;
      font-weight: bold;
    }
    #saveBtn {
      background: #e50914;
      color: white;
    }
    #saveBtn:hover { background: #b20710; }
    #clearBtn {
      background: #555;
      color: white;
      margin-top: 10px;
    }
    #clearBtn:hover { background: #444; }
  </style>
</head>

<body>

  <!-- TOP NAV -->
  <header class="topbar">
    <h1>My Game Library</h1>

    <div>
      <a href="dashboard.php">Dashboard</a>
      <a href="library.html" style="font-weight:bold;">Add/Edit Games</a>
      <a href="my_games.html">My Games</a>
      <span id="welcomeUser"></span>
      <button id="logoutBtn">Logout</button>
    </div>
  </header>

  <main class="container">

    <!-- STATS -->
    <section class="stats-container">
      <div class="stat-card">
        <h3>Total Games</h3>
        <p id="totalGames" class="stat-number">0</p>
      </div>
      <div class="stat-card">
        <h3>Avg Rating</h3>
        <p id="avgRating" class="stat-number">0</p>
      </div>
      <div class="stat-card">
        <h3>Wishlist</h3>
        <p id="wishlistCount" class="stat-number">0</p>
      </div>
    </section>

    <!-- ADD / EDIT FORM -->
    <section class="form-card">
      <h2>Add / Edit Game</h2>

      <form id="addGameForm">
        <input type="hidden" id="gameId">

        <input id="title" placeholder="Game Title" required>

        <select id="platform">
          <option value="">Select Platform</option>
          <option>PC</option>
          <option>Xbox</option>
          <option>PlayStation</option>
          <option>Nintendo</option>
          <option>Mobile</option>
        </select>

        <select id="genre">
          <option value="">Genre</option>
          <option>Action</option>
          <option>Adventure</option>
          <option>RPG</option>
          <option>Survival</option>
          <option>Sports</option>
          <option>Racing</option>
          <option>Strategy</option>
          <option>Shooter</option>
          <option>Puzzle</option>
          <option>Horror</option>
          <option>Simulation</option>
          <option>Fighting</option>
          <option>Platformer</option>
          <option>MMO</option>
        </select>

        <!-- IMPORTANT: id MUST be release_year to match library.js -->
        <select id="release_year">
          <option value="">Year</option>
          <script>
            for (let y = 2025; y >= 1990; y--) {
              document.write(`<option value="${y}">${y}</option>`);
            }
          </script>
        </select>

        <select id="rating">
  <option value="">Rating</option>
  <option value="5">5★</option>
  <option value="4">4★</option>
  <option value="3">3★</option>
  <option value="2">2★</option>
  <option value="1">1★</option>
</select>


        <label style="color:#fff; margin-bottom:10px;">
          <input type="checkbox" id="is_wishlist"> Add to Wishlist
        </label>

        <textarea id="comment" placeholder="Comments..."></textarea>

        <button id="saveBtn" type="submit">Save Game</button>
        <button id="clearBtn" type="button">Clear</button>
      </form>
    </section>
  </main>

  <script src="assets/js/library.js"></script>
</body>
</html>
